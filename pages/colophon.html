<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>xvw - Colophon</title>
    <meta name="description" content="Information sur comment cette application web est construite" />
    <meta name="keywords" content="capsule, misc, yocaml, blog" />
    <meta name="author" content="Xavier Van de Woestyne" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="og:title" content="Colophon" />
    <meta name="og:description" content="Information sur comment cette application web est construite" />
    <meta name="twitter:title" content="Colophon" />
    <meta name="twitter:description" content="Information sur comment cette application web est construite" />
    <meta name="twitter:creator" content="@vdwxv" /><link rel="stylesheet" href="/css/fonts.css" />
    <link rel="stylesheet" href="/css/hl.css" />
    <link rel="stylesheet" href="/css/default.css" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="alternate" type="application/atom+xml" href="/atom.xml" />
    <link rel="alternate" type="application/atom+xml" href="/journal.xml" />
    <link rel="alternate" type="application/atom+xml" href="/pages.xml" />
    <link rel="alternate" type="application/atom+xml" href="/addresses.xml" />
    <script src="/js/hell.js"></script>
    <script src="/js/capsule_client.bc.js"></script>
  </head>
  <body>
    <main class="container"><section class="header">
  <nav class="breadcrumb">
    <ol>
      <li>
        <a href="/">Accueil</a>
      </li></ol>
  </nav>

  <h1>Colophon</h1><time class="published-at" datetime="2024-02-02">
    2024-02-02
  </time></section><section class="synopsis"><p>Cette page décrit le rôle de ce site web. Elle décrit aussi les différentes ressources et bibliothèques utilisées. Un <strong>Colophon</strong> est, historiquement, en imprimerie, un encadré donnant des informations sur le résultat d'une impression. C'était donc une manière un peu manuelle d'attacher des <em>méta-données</em>. Je ne sais pas si c'est un titre de page pertinent, mais il est souvent utilisé, dans la <em>blogosphère</em> (et spécifiquement dans <a href="https://webring.xxiivv.com/">l'anneau web</a> dont j'ai fait partie pendant plusieures années) pour décrire les différents processus et outils utilisés pour décrire un site web.</p>
</section><section class="table-of-contents"><ul>
<li><ul>
<li><ul>
<li><a href="#thmatiques-et-navigation">Thématiques et navigation</a>
</li>
<li><a href="#technologies">Technologies</a>
<ul>
<li><a href="#gnration-statique-yocaml">Génération statique: YOCaml</a>
<ul>
<li><a href="#greffons-utiliss">Greffons utilisés</a>
</li>
<li><a href="#greffons-implments">Greffons implémentés</a>
</li>
</ul>
</li>
<li><a href="#infrastructure">Infrastructure</a>
</li>
<li><a href="#client-et-technologies-front-end">Client et technologies <em>front-end</em></a>
<ul>
<li><a href="#css-et-intgration">CSS et intégration</a>
</li>
<li><a href="#coloration-syntaxique">Coloration syntaxique</a>
</li>
<li><a href="#nightmare">Nightmare</a>
</li>
</ul>
</li>
<li><a href="#commentaires">Commentaires</a>
</li>
<li><a href="#web3-et-tezos">Web3 et Tezos</a>
</li>
<li><a href="#conclusion-sur-la-pile-technologique">Conclusion sur la pile technologique</a>
</li>
</ul>
</li>
<li><a href="#dveloppement-et-production-de-contenu">Développement et production de contenu</a>
<ul>
<li><a href="#dveloppement">Développement</a>
</li>
<li><a href="#lments-visuels">Éléments visuels</a>
<ul>
<li><a href="#typographies">Typographies</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#conclusion">Conclusion</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</section><article><p>Vous êtes sur ma <em>page personnelle</em> et son objectif est de me permettre d'avoir
un espace de <em>publication libre</em>. Où je peux choisir les thématiques que je veux
traiter et où il est possible de structurer mes documents à ma guise. Les
grandes sections présentent sur <a href="/">l'index</a> décrivent des <strong>thématiques</strong>, qui
elles-même sont regroupées en <strong>sections</strong>. L'application possède aussi un
<a href="/journal/">journal</a>, me permettant de rédiger <em>à la manière d'un blog</em>. Les
documents peuvent être des articles, des guides ou des
<a href="/galleries.html">galeries</a>.</p>
<p>Mon tout premier site personnel date de 2001, et avait été construit avec
l'éditeur en ligne du site <a href="https://fr.wikipedia.org/wiki/Voila">voila.fr</a>, au
fil des années, j'ai eu beaucoup de sites différents (et j'ai utilisé beaucoup
de platformes différentes) dont la première archive, encore accessible, <a href="https://web.archive.org/web/20040724002549/http://www.destination-x.be.tf/">date de
2004</a>
(attention, c'est <em>cringe</em>). Depuis quelques années, j'utilise des générateurs
de sites statiques et mon contenu est versionné sur un dépôt Git, rendant
l'archivage plus aisé (il est possible de retrouver des archives en cherchant
<a href="https://web.archive.org/web/20240000000000*/nukifw.github.io">nukifw.github.io</a>
et <a href="https://web.archive.org/web/20240000000000*/xvw.github.io">xvw.github.io</a>).</p>
<h3 id="thmatiques-et-navigation">Thématiques et navigation</h3>
<p>Alors que pendant très longtemps, je tâchais de <em>dupliquer</em> mes espaces de
rédactions pour garantir que chacun de mes sites possédaient une thématique
clair, j'ai, vers 2014, commencé à être amusé par certaines pages de chercheurs
qui exploitaient leurs espaces numériques pour discuter de sujets variés. Par
exemple, je me souviens d'une page de <a href="https://en.wikipedia.org/wiki/Joe_Armstrong_(programmer)">Joe
Armstrong</a>, le
créateur de <a href="https://www.erlang.org/">Erlang</a> qui, au milieu d'une <a href="https://web.archive.org/web/20150905063923/https://www.sics.se/%7ejoe/bluetail/index.html">liste de
projets très
sérieux</a>,
décrivait comment il avait construit des <a href="https://web.archive.org/web/20150905140220/https://www.sics.se/%7ejoe/bluetail/misc/water.html">fusées propulsées à
l'eau</a>.
Ou encore certains chercheurs de <a href="https://www.inria.fr/fr">INRIA</a> profitant de
leurs pages pour partager leurs photos de vacances.</p>
<p>Plus tard, en fréquentant l'instance Mastodon
<a href="https://merveilles.town/getting-started">Merveilles</a>, j'ai découvert une
<a href="https://webring.xxiivv.com/">collection de sites</a> dans lesquels il était
possible de se perdre pendant plusieurs heures. Le site de <a href="https://wiki.xxiivv.com/site/home.html">Devine Lu
Linvega</a> en est, de mon point de vue, un
excellent exemple. On clique sur un lien, et, quelques heures plus tard, on
s'est perdu au détour d'une section, appartenant elle-même à une rubrique.
L'auteur décrit d'ailleurs son site, dans la conférence <a href="https://www.youtube.com/watch?v=w5bbJcimCcs">The Frameworks for
Mystics</a>, comme une ville
<em>labyrinthique</em> dans lequel il est possible de se perdre.</p>
<p>Cette approche du web, que l'on appelle maintenant <a href="https://indieweb.org/"><em>Le Web
Indie</em></a> est un retour aux fondamentaux, à l'époque
<a href="https://fr.wikipedia.org/wiki/GeoCities">Geocities</a> où les internautes étaient
très créatifs et rigolos. La popularité des platforme de publications <em>à la
Medium</em> a <strong>normalisé</strong> le contenu en ligne, et certains, dont je fais partie,
trouvent ça dommage. C'est pour cette raison que j'ai pris, à la refonte de mon
site personnel, la décision de ne pas <strong>figer sa thématique</strong>, et de m'offrir la
liberté d'écrire sur <strong>tout ce dont j'ai envie</strong>. N'étant pas très productif, il
est possible que mon site ne ressemble jamais à une ville dans laquelle il est
possible de se perdre, mais la navigation <em>structurée, mais pas trop,</em> sert
cette ambition.</p>
<h3 id="technologies">Technologies</h3>
<p>Pour être parfaitement libre dans la manière dont je structure mes documents, il
était très important que j'utilise un outil libre, extensible et que je puisse
facilement maitriser. <a href="https://web.archive.org/web/20211021123408/https://xvw.github.io/">L'itération
précédente</a>
de mon site personnel approchait cette idée. J'avais construit une collection de
petits logiciels (en <a href="https://ocaml.org">OCaml</a>, évidemment) me permettant de
<em>structurer de la données</em> et, potentiellement, de générer des pages. N'étant
pas emballé à l'idée de créer un <em>moteur de gabarits</em>, je m'étais tourné vers
<a href="https://jaspervdj.be/hakyll/">Hakyll</a>, un excellent <strong>générateur, de
générateurs de sites statiques</strong>, écrit en <a href="https://www.haskell.org/">Haskell</a>.
Cependant, le mélange OCaml/Haskell rendait la maintenance de l'application et
j'ai décidé, en 2022, de repartir de zéro.</p>
<p>Le code source du générateur, et le contenu <em>brut</em> se trouvent sur le dépôt
Github <a href="https://github.com/xvw/capsule">xvw/capsule</a> et le résultat du site
généré se trouve sur le dépôt Github
<a href="https://github.com/xvw/xvw.github.io">xvw/xvw.github.io</a>.</p>
<h4 id="gnration-statique-yocaml">Génération statique: YOCaml</h4>
<p><a href="https://github.com/xhtmlboi/yocaml">YOCaml</a> a été conçu par mon ami
<a href="https://xhtmlboi.github.io/">Antoine</a> pour donner un exemple d'utilisation de
la bibliothèque <a href="https://github.com/xvw/preface/">Preface</a>, sur laquelle
j'avais, avec <a href="http://www.fungus.fr/">Didier</a> et
<a href="https://github.com/gr-im">Pierre</a>, travaillé. Comme Hakyll, YOCaml est un
générateur très versatile, qui laisse beaucoup de liberté sur les documents à
construire. On peut le voir comme un tout petit <em>framework</em> pour construire des
<em>build-systems</em> minimalistes. Son fonctionnement est, dans les grandes lignes,
décrit <a href="https://xhtmlboi.github.io/articles/yocaml.html">dans un article</a> du
créateur, et, j'ai eu l'honneur de <a href="https://www.irill.org/videos/OUPS/2023-01/xavier-van-de-woestyne.html">le
présenter</a>
au <a href="https://oups.frama.io/">OCaml <em>usergroup</em> Parisien</a>.</p>
<p>Le binaire principale est orchestré via un logiciel en ligne de commandes,
implémenté grâce à la très riche bibliothèque
<a href="https://ocaml.org/p/cmdliner/latest">Cmdliner</a>.</p>
<p>L'utilisation de YOCaml, dans un
contexte un peu moins <em>orthodoxe</em> que les exemples présentés, permet
d'utililiser mon site comme incubateur et de débroussailler des améliorations
potentielles pour la prochaine version de la bibliothèque (mais aussi de trouver
des
<a href="https://github.com/xhtmlboi/yocaml/pull/36/commits/231b59a0d4a435722d2d10aea64d7a9f2b667371">bogues</a>).</p>
<h5 id="greffons-utiliss">Greffons utilisés</h5>
<p>YOCaml est un <em>framework</em> qui vient avec plusieurs greffons (des moteurs de
gabarits, des description de langages de <em>markups</em> etc.) me permettant de
construire une véritable application web, avec beaucoup de contrôle sur la
manière dont les pages statiques sont produites. En général, un <em>greffon</em> est
une sur-couche à une bibliothèque OCaml existante, servant à faire la glue entre
cette dernière et YOCaml. Pour ce site, j'utilise ces différents <em>greffons</em> :</p>
<ul>
<li>
<p><a href="https://ocaml.org/p/yocaml_unix/latest">Yocaml_unix</a> : comme YOCaml est très
versatile, il peut générer un site depuis et vers un système de fichier Unix
(mais aussi dans un <a href="https://ocaml.org/p/yocaml_git/latest">répertoire Git</a>
permettant au site généré d'être servi par un
<a href="https://github.com/robur-coop/unipi">MirageOS</a>). Je l'utilise en
développement (ce qui me permet d'avoir un serveur de développement) mais
aussi en déployement. Le paquet repose essentiellement sur
<a href="https://ocaml.org/p/cryptokit/latest">Cryptokit</a>, pour le <em>hachage</em> des
documents, <a href="https://ocaml.org/p/logs/latest">Logs</a>, pour l'affichage des logs,
<a href="https://ocaml.org/p/conduit/latest">Conduit</a> et
<a href="https://ocaml.org/p/cohttp/latest">Cohttp</a> pour le serveur de développement
local.</p>
</li>
<li>
<p><a href="https://ocaml.org/p/yocaml_yaml/latest">Yocaml_yaml</a> : qui repose sur la
bibliothèque <a href="https://ocaml.org/p/yaml/latest">yaml</a> pour décrire les
métadonnées des articles avec le langage de description
<a href="https://fr.wikipedia.org/wiki/YAML">Yaml</a>. Le Yaml est assez controversé mais
pour décrire des petites structures de données servant à donner du contexte à
des articles, je le trouve largement suffisant. Cependant, il est possible que
dans un futur proche, je me penche sur
<a href="https://fr.wikipedia.org/wiki/TOML">TOML</a>.</p>
</li>
<li>
<p><a href="https://ocaml.org/p/yocaml_jingoo/latest">Yocaml_jingoo</a> : qui repose sur la
bibliothèque <a href="https://ocaml.org/p/yocaml_jingoo/latest">jingoo</a>, un moteur de
gabarits conceptuellement très proche de
<a href="https://github.com/pallets/jinja/">Jinja</a> et qui est, de mon point de vue,
incroyablement versatile.</p>
</li>
<li>
<p><a href="https://ocaml.org/p/yocaml_syndication/latest">Yocaml_syndication</a> : qui
repose sur la bibliothèque <a href="https://ocaml.org/p/syndic/latest">syndic</a> me
servant à décrire le flux Atom du site. Ce greffon a été développé par
l'équipe <a href="https://github.com/Psi-Prod">Psi-Prod</a>, qui réalise beaucoup de
projets en rapport avec MirageOS, Gemini et YOCaml.</p>
</li>
</ul>
<h5 id="greffons-implments">Greffons implémentés</h5>
<p>Alors que, historiquement, j'utilisais <a href="https://orgmode.org/">Org</a> comme langage
<em>Markup</em>, j'ai décidé de passer vers du
<a href="https://fr.wikipedia.org/wiki/Markdown">Markdown</a>, essentiellement parce qu'il
y avait une bibliothèque complète, et que YOCaml possédait, déjà, un greffon
<a href="https://ocaml.org/p/yocaml_markdown/latest">Yocaml_markdown</a>, basé sur
<a href="https://ocaml.org/p/omd/latest">omd</a>. Cependant, je voulais pouvoir automatiser
la génération de table des matières, donc j'ai implémenté mon propre greffon,
lui aussi, basé sur <a href="https://ocaml.org/p/omd/latest">omd</a>.</p>
<p>Entre temps, la bibliothèque <a href="https://ocaml.org/p/cmarkit/latest">Cmarkit</a>, qui
respecte la spécification <a href="https://spec.commonmark.org/">CommonMark</a> a été
publiée et <a href="https://blog.osau.re/">Dinosaure</a> (contributeur et utilisateur de
YOCaml, mais aussi le mainteneur/créateur de <a href="https://ocaml.org/packages/search?q=Calascibetta+Romain">pléthore de
bibliothèques</a>
incroyablement utile pour l'écosystème OCaml) a construit un greffon
<a href="https://ocaml.org/p/yocaml_cmark/latest">Yocaml_cmark</a>. Quand le temps me le
permettra, je passerai probablement sur cette bibliothèque.</p>
<h4 id="infrastructure">Infrastructure</h4>
<p>L'avantage d'un site généré statiquement est qu'il est <strong>incroyablement facile</strong>
à déployer ! N'étant pas un très bon <em>devOps</em>, j'ai décidé d'utiliser <a href="https://pages.github.com/">Github
Pages</a> comme serveur de fichiers. J'utilise une
<a href="https://github.com/xvw/capsule/blob/main/.github/workflows/pfioooouuuu.yml">Github
Action</a>
(dont le nom est un peu nul) pour déployer une nouvelle version à chaque
nouvelle version de la branche
<a href="https://github.com/xvw/capsule/tree/main"><em>main</em></a>.</p>
<h4 id="client-et-technologies-front-end">Client et technologies <em>front-end</em></h4>
<p>Le site web est assez sobre concernant les technologies <em>front-end</em> mise en
œuvre, essentiellement parce que je ne suis pas très <em>aux faits</em> des nouvelles
technologies web. Par contre, pour garantir une certaine forme d'interactivité
(par exemple pour le développement des applications embarquées ou pour la
gestion des commentaires), j'utilise <strong>un peu</strong> de JavaScript, cependant, la
désactivation de ce dernier permet tout de même la navigation.</p>
<h5 id="css-et-intgration">CSS et intégration</h5>
<p>Concernant le CSS, <strong>je n'utilise aucun framework</strong>. La feuille de style a été
conçue à la main (et très maladroitement). Mon expérience avec
<a href="https://tailwindcss.com/">Tailwind</a> a été très laborieuse donc j'ai décidé de
tout écrire <em>from-scratch</em>. Actuellement, je suis satisfait de <em>bien comprendre</em>
mes feuilles de styles, cependant, comme évoqué dans ma <a href="/journal/2023-12-29_18-23-07.html">rétrospective
2023</a>, je devrais réecrire toute la feuille
pour construire un
<a href="https://en.wikipedia.org/wiki/Design_system"><em>design-system</em></a> dédié à mon site
web pour éviter les répétitions (actuellement, les règles ont été écrites à la
nécéssité).</p>
<p>Je profite aussi de ce site web pour en apprendre un peu plus sur l'intégration,
le HTML et le CSS. Par exemple, après des années sans m'y être intéressé, j'ai
<em>enfin</em> utilisé des grilles, via le <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_grid_layout">gabarit de
grilles</a> qui,
logiquement, pour décrire des grilles, est largement plus confortable que
<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_flexible_box_layout/Basic_concepts_of_flexbox">Flexbox</a>.</p>
<h5 id="coloration-syntaxique">Coloration syntaxique</h5>
<p>J'utilise la bibliothèque <a href="https://highlightjs.org/">Highlight.js</a> avec le thème
<a href="https://github.com/highlightjs/highlight.js/blob/5bcb6c66133706ea84cfd3cfd7492b3e5321ca85/src/styles/grayscale.css">Grayscale</a>
(très légèrement modifé pour s'adapter au visuel global de l'application).</p>
<p>Le choix d'une bibliothèque JavaScript pour assurer la coloration syntaxique est
<strong>de la pure fainéantise</strong>. Même s'il y a des priorités plus importantes, je
garde en tête le projet <a href="https://ocaml.org/p/hilite/latest">Hilite</a> pour colorer
les blocs de codes à la construction du site, et réduire la nécéssité d'une
bibliothèque tiers aussi grande. (Actuellement, c'est laissé de coté car ça
implique de migrer vers <code>Cmarkit</code> et d'intégrer d'autres syntaxes, mon site ne
parlant pas <em>que</em> de OCaml).</p>
<h5 id="nightmare">Nightmare</h5>
<p><a href="https://github.com/funkywork/nightmare">Nightmare</a> est une collection d'embryon
de bibliothèques permettant de construire des applications <em>client/serveur</em> et
développé à <a href="https://github.com/funkywork">The Funkyworkers</a> (dont je suis
<em>co-fondateur</em>). Mon site utilise <strong>la partie cliente</strong>, qui est compilée en
JavaScript grâce à l'excellent
<a href="https://ocsigen.org/js_of_ocaml/latest/manual/overview">Js_of_ocaml</a>, me
permettant d'écrire le moins de JavaScript possible, et spécifiquement ces
différentes bibliothèques :</p>
<ul>
<li>
<p><code>Nightmare</code> : qui offre des abstractions génériques (pour le client et le
serveur) comme, par exemple, l'abstraction sur la définition d'URL.</p>
</li>
<li>
<p><code>Nightmare_js</code> : qui fourni des outils et des <em>liaisons</em> pour interagir
facilement avec JavaScript (par exemple une liaison avec l'API
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">Fetch</a>, qui
repose sur la description d'URL de <code>Nightmare</code>).</p>
</li>
<li>
<p><code>nightmare_vdom</code> : qui fournit une glue entre
<a href="https://ocaml.org/p/tyxml/latest">Tyxml</a>, une bibliothèque pour décrire des
noeuds HTML avec une vérification statique des types, et
<a href="https://ocaml.org/p/vdom/latest">vdom</a>, qui est une implémentation d'un <a href="https://en.wikipedia.org/wiki/Virtual_DOM">DOM
virtual</a>, en OCaml, offrant la
capacité de structurer une application par le biais de <a href="https://en.wikipedia.org/wiki/Moore_machine">Machine de
Moore</a> (que l'on appelle, depuis
quelques années, <a href="https://guide.elm-lang.org/architecture/">La Elm
Architecture</a>).</p>
</li>
</ul>
<p>Ces différentes bibliothèques me permettent d'embarquer des <em>applications
riches</em>, par exemple, les <a href="/dapps.html">Dapps</a> ou encore l'affichage des
commentaires. Et, comme le site fait office d'incubateur pour YOCaml, c'est
aussi le cas pour les différentes bibliothèques qui constituent Nightmare.</p>
<h4 id="commentaires">Commentaires</h4>
<p>Une des difficultés quand on construit un site statique, c'est que l'on perd des
fonctionnalités d'interactivité. Par exemple, les commentaires sur les articles.
Une solution acceptée dans le monde des sites statiques est d'utiliser un
service tiers pour palier ces manque d'interactivité. On appelle ça la
<a href="https://jamstack.org/">JamStack</a> et il existe beaucoup de services permettant
de résoudre le problème des commentaires.</p>
<p>Comme je l'avais expliqué dans <a href="/journal/2023-11-14_15-20-50.html">une entrée de
journal</a>, je ne voulais pas dépendre d'un
service pouvant, potentiellement faire du <em>tracking</em> sans mon accord, j'ai donc
décidé de construire le support des commentaires sur base de réponses à des fils
de conversations <a href="https://merveilles.town/getting-started">Mastodon</a>. La
solution est limitée car elle ne me permet pas de faire de modérations, mais
pour le moment, elle me suffit largement. Je pourrais imaginer une modération
statique (en invalidant certains identifiants de messages au niveau d'une page),
mais, pour le moment, n'ayant pas eu à déplorer des commentaires déplacés, je ne
pense pas que ça soit nécéssaire.</p>
<p>L'application utilise <code>nightmare_vdom</code>, ce qui est un peu <em>overkill</em> car il n y
a pas d'interactivité et un seul composant, mais ça me permet de bénéficier de
combinateurs pour décrire une UI.</p>
<h4 id="web3-et-tezos">Web3 et Tezos</h4>
<p>Dans certains espaces de conversations que je fréquente, il arrive souvent que
les <em>blockchains</em> aient une mauvaise réputation, cependant, à titre personnel,
et comme je l'avais expansivement évoqué dans <a href="https://www.youtube.com/watch?v=ZDVxRlKExmc">ce
podcast</a>, j'y vois une collection
d'opportunités de création de projets amusants. Et comme un des objectifs de mon
site est d'être un petit bac à sable pour construire de petites
expérimentations, je voulais être capable d'embarquer des petites applications
décentralisées utilisant <a href="https://tezos.com/">Tezos</a> comme <em>back-end</em> (j'avais
d'ailleurs éventualisé l'idée d'utiliser cette dernière pour la gestion des
commentaires mais je trouvais ça laborieux d'imposer à mes lecteurs potentiels
le fait de <em>devoir payer</em> pour publier un commentaire).</p>
<p>Pour l'interaction avec la chaine, j'utilise
<a href="https://github.com/funkywork/yourbones">yourbones</a> qui est, comme <code>nightmare</code>,
une collection d'embryon de bibliothèques pour interagir avec la chaine Tezos.
Dans <code>Yourbones</code>, il existe une bibliothèque <code>yourbones_js-beacon</code> qui fait la
liaison avec <a href="https://www.walletbeacon.io/">Beacon</a>, une implémentation de la
<a href="https://gitlab.com/tezos/tzip/-/blob/master/proposals/tzip-10/tzip-10.md">TZIP-10</a>
permettant l'abstraction de la connexion d'un <em>Wallet</em>. Exactement comme pour
YOCaml et Nightmare, mon site fait office d'incubateur pour <code>Yourbones</code> en
détectant les fonctionnalités intéressantes à implémenter et en faisant remonter
des bogues potentiels, notamment pour Js_of_OCaml ou beaucoup d'améliorations
d'<em>inlining</em> ont été remonté par l'utilisation de <code>Yourbones</code>. En complément,
j'utilise la bibliothèque
<a href="https://ocaml.org/p/data-encoding/latest">data-encoding</a> pour les échanges de
données entre mes applications embrarquées et les noeuds RPC de Tezos.</p>
<p>En complément, certaines galeries pointent vers des collections
<a href="https://objkt.com/">Objkt</a> (ou certaines illustrations pointent directement
vers une page Objkt) permettant à des utilisateurs d'acheter certaines éditions
sous formes de <a href="https://en.wikipedia.org/wiki/Non-fungible_token">NFT</a>.</p>
<h4 id="conclusion-sur-la-pile-technologique">Conclusion sur la pile technologique</h4>
<p>Même s'il reste des points d'améliorations, un des éléments qui me semblait
essentiel dans la maintenance d'un site personnel était le plaisir que j'avais à
le faire évoluer. L'utilisation de <a href="https://ocaml.org">OCaml</a> qui est, pour
concrétiser des projets, mon langage favori, à presque toutes les couches du
site web me donne, <strong>en permanence</strong>, envie de l'améliorer ! De plus,
l'utilisation de bibliothèques expérimentales, développées par des
partenaires/amis/collègues, me permet de dresser des retours d'utilisations
pertinents et potentiellement de faire remonter des bogues.</p>
<p>Donc même s'il est probable que dans les mois à venir, j'apporte certains
changements, je resterai probablement sur cette base, qui m'amuse et me permet
d'implémenter à peu près ce dont j'ai envie.</p>
<h3 id="dveloppement-et-production-de-contenu">Développement et production de contenu</h3>
<p>En plus de la <em>génération concrète</em> du site, j'utilise des bibliothèques et des
logiciels pour faciliter le développement de l'application et la production de
contenu. Le code source et les différentes pages sont écrites avec
<a href="https://github.com/doomemacs/doomemacs">Doom-Emacs</a> (une configuration
<em>moderne</em> pour l'éditeur <a href="https://www.gnu.org/software/emacs/">Emacs</a>, que
j'utilise depuis près d'une quinzaine d'années).</p>
<h4 id="dveloppement">Développement</h4>
<p>Comme le générateur du site est un projet OCaml, j'utilise un ensemble d'outils
relatifs au développement de projets OCaml :</p>
<ul>
<li><a href="https://opam.ocaml.org/">OPAM</a> : le gestionnaire de paquet de OCaml.
</li>
<li><a href="https://dune.build/">Dune</a> : le <em>build-system</em> (presque standard) de OCaml.
</li>
<li><a href="https://ocaml.github.io/merlin/">Merlin</a>, via Doom-Emacs comme support IDE.
</li>
<li><a href="https://github.com/ocaml-ppx/ocamlformat">OCamlformat</a> : comme formatteur de
code.
</li>
<li><a href="https://github.com/ocaml-community/utop">Utop</a> : comme
<a href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop">REPL</a>
(qui se marie très bien avec <code>Dune</code>).
</li>
<li><a href="https://github.com/OCamlPro/ocp-indent">ocp-indent</a> : comme outil
d'indentation, qui compose très bien avec <code>OCamlformat</code>.
</li>
<li><a href="https://ocaml.github.io/odoc/">Odoc</a> : comme générateur de documentation.
</li>
<li><a href="https://github.com/realworldocaml/mdx">mdx</a> : pour écrire des <em>tests</em> dans un
style <em>literate</em> (dans de la documentation ou des documents Markown),
</li>
</ul>
<p>Comme YOCaml a été conçu par au dessus de
<a href="https://github.com/xvw/preface">Preface</a>, cette bibliothèque est aussi
grandement utilisée dans les différents modules du générateur et des parties
clientes.</p>
<p>En plus, j'utilise, par habitude
<a href="https://en.wikipedia.org/wiki/Make_(software)">Make</a> comme <em>orchestrateur de
tâches génériques</em> (un peu par habitude car <code>Dune</code> pourrait largement le
remplacer) et <a href="https://www.npmjs.com/">npm</a> et
<a href="https://webpack.js.org/">Webpack</a> pour gérer les dépendances JavaScript (en
l'occurence, uniquement <code>Highlight.js</code>).</p>
<h4 id="lments-visuels">Éléments visuels</h4>
<p>Les différents éléments visuels du site sont réalisés avec ces trois outils :</p>
<ul>
<li>
<p><a href="https://krita.org/">Krita</a> : comme logiciel de peinture numérique. Quand j'ai
pris la décision de supprimer ma partition Windows pour utiliser exclusivement
GNU/Linux, j'ai dû arrêter d'utiliser <a href="https://www.adobe.com/products/photoshop.html">Adobe
Photoshop</a>, je l'ai remplacé
par <code>Krita</code> pour le dessin numérique. Aujourd'hui, j'en suis pleinement
satisfait (bien que je ne sois absolument plus au courant des nouveautés de
Photoshop).</p>
</li>
<li>
<p><a href="https://www.adobe.com/products/photoshop.html">Inkscape</a> : comme logiciel de
dessin vectoriel. Je n'ai pas encore retrouvé l'agilité que j'avais avec
<a href="https://www.adobe.com/products/photoshop.html">Adobe Illustrator</a> mais je
compte bien continuer à utiliser à me former à <code>Inkscape</code> qui semble être
capable de largement rivaliser avec son concurrent non-libre.</p>
</li>
<li>
<p><a href="https://d2lang.com/">D2</a> : comme outil pour décrire des diagrammes. C'est un
langage déclaratif permettant de décrire plusieurs types de schémas.
Historiquement, j'utilisais <a href="https://graphviz.org/doc/info/lang.html">Dot</a>, de
la suite <a href="https://graphviz.org/">Graphviz</a> (que je serai peut-être amené à
réutiliser), mais je trouve <code>D2</code> plus facile à utiliser et à personnaliser.
J'utilise le thème <a href="https://d2lang.com/tour/themes/"><code>301</code></a> et le moteur
d'organisation <a href="https://d2lang.com/tour/elk">Elk</a>.</p>
</li>
</ul>
<p>L'ensemble des illustrations, <em>pixels</em> ou <em>vectorielles</em> sont réalisées avec une
bien vieille (2008) tablettes graphique <strong>Bamboo</strong> de chez
<a href="https://www.wacom.com/">Wacom</a> qui, malgré son âge avancé... fonctionne
toujours !</p>
<h5 id="typographies">Typographies</h5>
<p>Le site web utilise trois polices de caractères différentes :</p>
<ul>
<li>
<p><a href="https://black-foundry.com/case-studies/inria-identity-font/">Inria Serif</a> :
comme police principale pour les paragraphes. Une police avec serifs que je
trouve très agréable à lire.</p>
</li>
<li>
<p><a href="https://github.com/impallari/Libre-Franklin">Libre Franklin</a> : comme police
principale pour les titres. Une police sans serif que je trouve lisible (et
dont les titres en gras me font penser à la typographie de <a href="https://www.bk.com/">Burger
King</a>).</p>
</li>
<li>
<p><a href="https://levien.com/type/myfonts/inconsolata.html">Inconsolata</a> : comme police
principale pour les blocs de code. Une police monospace très populaire et très
lisible (pour du code).</p>
</li>
</ul>
<p>J'ai longuement hésité à utiliser la police <a href="https://rsms.me/inter/">Inter</a>
comme police sans serif, que je trouve aussi très jolie et lisible. Mais, même
si mon avis en tant que <em>designer</em> a peu de valeur, je suis assez satisfait de
la composition de ces trois polices.</p>
<h3 id="conclusion">Conclusion</h3>
<p>C'était, dans les grandes lignes, les socles sur lesquels repose ce site web. Je
n'ai malheureusement pas cité toutes les dépendances transitives des projets que
j'utilise mais comme j'utilise presque essentiellement des logiciels libres,
elles sont découvrables par le biais des liens que j'ai référencés.</p>
<p>De mon point de vue, la pile technologique basée sur YOCaml et Nightmare est
très amusante à utiliser et me motive à faire évoluer mon site. Ce qui me permet
de conclure sur, selon moi, l'importance de contrôler son espace personnel sur
le net. En effet, il m'arrive souvent de voir des articles publiés sur
<a href="https://medium.com/">Medium</a> ou encore <a href="https://dev.to/">Dev.to</a>. Même si je
comprend parfaitement que le gros avantage de ces médiums de publication est la
communauté (et donc la promotion de ses rédactions), je trouve que garder le
contrôle de son contenu, d'être capable de construire une expérience de lecture
adapté à ses articles et d'offrir des rédactions sans publicités (le fameux
<strong>Pardon the Interruption</strong> que je trouve infernal) est un <strong>gain énorme</strong>. De
plus, maintenir son espace sur le web, comme un <a href="https://maggieappleton.com/garden-history">jardin
numérique</a> est un exercice très
amusant, formateur et qui, selon moi, stimule sa créativité ! Et de manière un
peu technocratique, ça permet d'expérimenter des langages plus compliqués à
proposer professionnellement !</p>
<p>Pour ma part, même si je pense qu'au vue de mes choix technologiques, je suis
assez indépendant concernant l'évolution de mon site et du code de son
générateur, je trouve que je dépend encore trop fortemment de
<a href="https://github.com">Github</a> et qu'un jour, je pourrai passer à une version
auto-hébergée, le fait que je contrôle mon contenu, qu'il est facilement
<em>backupable</em> ne m'inquiète pas quand je voudrai migrer. Et oui, une site généré
statiquement, c'est très facile à déployer !</p>
<p>Si vous avez envie de vous lancer dans la construction de votre espace sur le
web, <a href="https://webring.xxiivv.com/">l'anneau de la communauté Merveilles</a> est une
collection de <em>jardins numériques</em> pouvant être une très bonne source
d'inspiration et je suis, évidemment, ouvert à tout échange à ce propos, via les
différents canaux de contact qu'il est possible de trouver sur ce site !</p>
</article>
<hr />
<section class="page-comment-widget">
  <h1>Commentaires</h1>
  <p class="hyphenate">
    Comme mon site web est hébergé sur un serveur de fichiers statiques (et ne
    dispose pas de base de données), les commentaires sont assurés par le
    <i>Fediverse</i>. Si vous possédez un compte, par exemple <i>Mastodon</i>,
    <strong>vous pouvez donc commenter</strong> cette page en répondant à ce
    <a
      href="https://merveilles.town/@xvw/111859520888220057"
      >fil de discussion</a
    >!
  </p>
  <script>
    nightmare_js.suspend(function () {
      capsule_widgets.mountComments(
        "comments-thread",
        "merveilles.town",
        "xvw",
        "111859520888220057"
      );
    });
  </script>
  <div id="comments-thread"></div>
</section></main>
    <footer>
      <div class="container">
        <p>
          Diffusé sous licence
          <a href="https://creativecommons.org/licenses/by-sa/4.0/">
            <strong>CC BY-SA</strong>
          </a>
        </p>
        <p>
          Honteuseument généré par
          <a href="https://github.com/xhtmlboi/yocaml">
            <strong>YOCaml</strong>
          </a>
        </p>
        <p class="feed-icons"><a href="/feeds.html">⛰</a></p>
      </div>
    </footer>
    <script>
      nightmare_js.suspend(function () {
        capsule_hljs.run();
      });
      nightmare_js.mount();
    </script>
  </body>
</html>
